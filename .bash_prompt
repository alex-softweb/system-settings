# vim: set ft=sh:

# for git branch names in prompt
c_reset=$( tput sgr0 )
c_dir=$( tput setaf 3 )
c_arrow=$( tput setaf 6 )

# using methods ensures that the values are refreshed everytime PS1 is read.
branch_name() { ~/.git_helpers/git_stats branch_name; }
branch_color() { $( ~/.git_helpers/git_stats branch_color_code ); }
symbol_color() { $( ~/.git_helpers/git_stats symbol_color ); }
symbol() { echo $( ~/.git_helpers/git-branch-symbol ); }

git_information() {
  echo '\[$(branch_color)\]$(branch_name)\[$(symbol_color)\]$(symbol) '
}

machine-indicator() {
  if $(on-vagrant); then
    echo 'Ⱌ'
  else
    echo '▶'
  fi
}

machine-information() {
  echo "\[$c_arrow\]$(machine-indicator)\[$c_reset\] "
}

directory='\[$c_dir\]\W:'

export PS1="$(git_information)$directory$(machine-information)"
